document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".blockons-toc"),e=document.querySelectorAll(".blockons-toc-link"),o=document.querySelectorAll("h1, h2, h3, h4, h5, h6"),n=t.getAttribute("data-anchor"),c=new Map;if(o.forEach((t=>{const e=t.textContent.trim();c.has(e)||c.set(e,t)})),t.classList.contains("collapsible")){const e=t.querySelector(".blockons-toc-content"),o=t.querySelector(".header.toggle");o&&o.addEventListener("click",(function(o){o.stopPropagation(),t.classList.toggle("open"),t.classList.contains("open")?e.style.maxHeight=e.scrollHeight+"px":e.style.maxHeight="0"})),e.style.maxHeight="0",t.classList.remove("open")}e.forEach((t=>{const e=t.textContent.trim(),o=t.getAttribute("href").substring(1),s=c.get(e);if(s&&(s.id=o,n)){const t=document.createElement("span");if(t.className="blockons-toc-icons",n){const e=document.createElement("span");e.className="toc-icon fa-solid fa-link",e.addEventListener("click",(function(t){t.preventDefault();const e=window.location.href.split("#")[0]+"#"+o;window.history.pushState(null,"",e),navigator.clipboard.writeText(e),s.scrollIntoView({behavior:"smooth"})})),t.appendChild(e)}s.appendChild(t)}t.addEventListener("click",(function(t){t.preventDefault();const e=document.getElementById(o);e&&e.scrollIntoView({behavior:"smooth"})}))}))}));